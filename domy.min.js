/**
 * @author       Bonsaiheldin <dm@bonsaiheld.org> (http://bonsaiheld.org/)
 * @copyright    2018 Bonsaiheldin
 * @license      {@link https://github.com/bonsaiheldin/domy/blob/master/LICENSE.md|MIT License}
 */
var Domy=Domy||{Version:"0.0.6"};for(var key in Domy.Game=function(t,e,i,o,s){let h=this;document.addEventListener("DOMContentLoaded",function(){if(h.width=t||800,h.height=e||600,h.parent=document.getElementById(i)||null,h.states=o||null,h.transparent=s||!1,null===h.parent){let t=document.createElement("div");document.body.appendChild(t),t.style.position="relative",h.background=t;let e=document.createElement("div");t.appendChild(e),e.style.position="absolute",h.parent=e}else{let t=document.createElement("div");t.style.position="relative",h.parent.appendChild(t),h.background=t}return!1===h.transparent&&(h.background.style.backgroundColor="#000000"),h.background.style.width=h.width+"px",h.background.style.height=h.height+"px",h.background.style.overflow="hidden",h.parent.className="domy",h.physics=new Domy.Physics(h),h.world=new Domy.World(h),h.camera=new Domy.Camera(h),h.time=new Domy.Time(h),h.cache=new Domy.Cache(h),h.load=new Domy.AssetLoader(h),h.add=new Domy.ObjectFactory(h),h.sound=new Domy.SoundManager(h),h.keyboard=new Domy.Keyboard(h),h.mouse=new Domy.Mouse(h),null!==h.states&&h.states.preload&&h.states.preload(),h},!1)},Domy.Game.prototype={update(t){this.time.update(t),this.world.update(),this.camera.update(),null!==this.states&&this.states.update&&this.states.update()},render(){this.world.render(),this.camera.render(),null!==this.states&&this.states.render&&this.states.render()},start(t){MainLoop.setUpdate(function(e){t.update(e)}).setDraw(function(){t.render()}).start(),null!==this.states&&this.states.create&&this.states.create()}},Domy.Game.prototype.constructor=Domy.Game,Domy.World=function(t){return this.game=t,this.camera=new Domy.Camera(this.game),this.x=0,this.y=0,this.width=this.game.width,this.height=this.game.height,this.bounds=new Domy.Rectangle(this.x,this.y,this.width,this.height),this.children=[],this},Domy.World.prototype={addChild(t){this.children.push(t)},removeChild(t){this.children.splice(this.children.indexOf(t),1)},update(){for(let t=0;t<this.children.length;t++){this.children[t].update()}},render(){for(let t=0;t<this.children.length;t++){this.children[t].render()}}},Domy.World.prototype.constructor=Domy.World,Domy.Camera=function(t){return this.game=t,this.world=this.game.world,this.x=0,this.y=0,this.width=this.game.width,this.height=this.game.height,this.bounds=new Domy.Rectangle(this.x,this.y,this.width,this.height),this.left=this.x,this.right=this.x+this.width,this.top=this.y,this.bottom=this.y+this.height,this._x=this.x,this._y=this.y,this.target=null,this},Domy.Camera.prototype={follow(t){t&&(this.target=t)},unfollow(){this.target=null},update(){if(null!==this.target){let t=this.target.x,e=this.target.y;t>.5*this.width&&t<=this.world.width-.5*this.width&&(this._x=t-.5*this.width),e>.5*this.height&&e<=this.world.height-.5*this.height&&(this._y=e-.5*this.height)}this.left=this.x,this.right=this.x+this.width,this.top=this.y,this.bottom=this.y+this.height},render(){this.x===this._x&&this.y===this._y||(this.x=this._x,this.y=this._y,this.game.parent.style.left=-this.x+"px",this.game.parent.style.top=-this.y+"px")}},Domy.Camera.prototype.constructor=Domy.Camera,Domy.Group=function(t){return this.game=t,this.world=this.game.world,this.children=[],this.length=this.children.length,this.type=Domy.GROUP,this.world.addChild(this),this},Domy.Group.prototype={addChild(t){this.world.removeChild(t),this.children.push(t),this.length=this.children.length,t.group=this},removeChild(t){this.world.addChild(t),this.children.splice(this.children.indexOf(t),1),this.length=this.children.length,t.group=null},setAll(t,e){for(let i=0;i<this.children.length;i++){this.children[i][t]=e}},destroy(){return this.world.removeChild(this),this},update(){for(let t=0;t<this.children.length;t++){this.children[t].update()}},render(){for(let t=0;t<this.children.length;t++){this.children[t].render()}}},Domy.Group.prototype.constructor=Domy.Group,Domy.Sprite=function(t,e,i,o,s,h){if(this.x=e||0,this.y=i||0,this.key=o||null,this.frame=s||0,this.group=h||null,this.name="Bot",this.game=t,this.world=this.game.world,this.camera=this.game.camera,this.time=this.game.time,this.alive=!0,this.alpha=1,this.width=32,this.height=32,this.anchor=new Domy.Point(0,0),this.left=this.x-this.width*this.anchor.x,this.right=this.left+this.width,this.top=this.y-this.height*this.anchor.y,this.bottom=this.top+this.height,this.outOfBoundsKill=!1,this.inCamera=!1,this.css={},this.css.transform="",this.type=Domy.SPRITE,this.body=new Domy.Physics.Body(this),this.image=document.createElement("div"),this.game.parent.appendChild(this.image),this.image.style.position="absolute",this.image.style.width=this.width+"px",this.image.style.height=this.height+"px",null===this.key)this.image.style.boxShadow="inset 0px 0px 0px 1px #00ff00";else if(this.image.style.backgroundImage="url("+this.game.cache.images[this.key].src+")",0!==this.frame){let t=this.game.cache.images[this.key].frames[this.frame];this.image.style.backgroundPosition=t.x+"px "+t.y+"px"}return null!==this.group?this.group.addChild(this):this.world.addChild(this),this},Domy.Sprite.prototype={kill(){this.alive=!1,this.destroy()},destroy(){return null!==this.group?this.group.removeChild(this):this.world.removeChild(this),this.game.parent.removeChild(this.image),this},setWidth(t){return this.width=t||0,this.image.style.width=value+"px",this},setHeight(t){return this.height=t||0,this.image.style.height=value+"px",this},setFrame(t){return t=t||0,t=this.game.cache.images[this.key].frames[t],this.image.style.backgroundPosition=t.x+"px "+t.y+"px",this},setGlow(t,e,i,o){!1!==t?(t=t||0,t+="px ",e=e||0,e+="px ",i=i||"#00ff00 ",o=o?" inset":"",this.image.style.boxShadow="0px 0px "+t+e+i+o):this.image.style.boxShadow=""},update(){let t=this.width*this.anchor.x,e=this.height*this.anchor.y,i=this.world.width,o=this.world.height;this.inCamera=!1,this.right>=this.camera.left&&this.bottom>=this.camera.top&&this.left<=this.camera.right&&this.top<=this.camera.bottom&&(this.inCamera=!0),!1===this.inCamera?(this.image.style.width="",this.image.style.height="",this.image.style.opacity="",null!==this.key&&(this.image.style.backgroundImage="")):(this.image.style.width=this.width+"px",this.image.style.height=this.height+"px",this.image.style.opacity=this.alpha,null!==this.key&&(this.image.style.backgroundImage="url("+this.game.cache.images[this.key].src+")")),null!==this.body&&this.body.enabled&&(this.body.touching.none=!0,this.body.touching.left=!1,this.body.touching.right=!1,this.body.touching.top=!1,this.body.touching.bottom=!1,this.body.allowVelocity&&(this.body.velocity.x+=this.body.acceleration.x,this.body.velocity.y+=this.body.acceleration.y),this.body.allowGravity&&(this.body.velocity.x+=this.body.gravity.x,this.body.velocity.y+=this.body.gravity.y),this.body.allowDrag&&(this.body.velocity.x*=1-this.body.drag.x,this.body.velocity.y*=1-this.body.drag.y),this.x+=this.time.delta*this.body.velocity.x,this.y+=this.time.delta*this.body.velocity.y,this.body.collideWorldBounds&&(this.x<=t&&(this.x=t,this.body.touching.none=!1,this.body.touching.left=!0,this.body.allowBounce&&(this.body.velocity.x=-this.body.velocity.x*this.body.bounce.x)),this.x+t>=i&&(this.x=i-t,this.body.touching.none=!1,this.body.touching.right=!0,this.body.allowBounce&&(this.body.velocity.x=-this.body.velocity.x*this.body.bounce.x)),this.y<=e&&(this.y=e,this.body.touching.none=!1,this.body.touching.top=!0,this.body.allowBounce&&(this.body.velocity.y=-this.body.velocity.y*this.body.bounce.y)),this.y+e>=o&&(this.y=o-e,this.body.touching.none=!1,this.body.touching.bottom=!0,this.body.allowBounce&&(this.body.velocity.y=-this.body.velocity.y*this.body.bounce.y)))),this.outOfBoundsKill&&(this.x<t||this.x>i+t||this.y<e||this.y),this.left=this.x-this.width*this.anchor.x,this.right=this.left+this.width,this.top=this.y-this.height*this.anchor.y,this.bottom=this.top+this.height,this.css.transform="";let s=Math.round(this.x-t),h=Math.round(this.y-e);return this.css.transform+="translate("+s+"px,"+h+"px)",this},render(){this.image.style.transform=this.css.transform}},Domy.Sprite.prototype.constructor=Domy.Sprite,Domy.Time=function(t){return this.game=t,this.started=Date.now(),this.sinceStart=0,this.now=Date.now(),this},Domy.Time.prototype={update(t){return this.sinceStart=Date.now()-this.started,this.now=Date.now(),this.delta=t/1e3,this}},Domy.Time.prototype.constructor=Domy.Time,Domy.Math={PI:Math.PI,PI2:2*Math.PI,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,degToRad:t=>t*Domy.Math.DEG_TO_RAD,radToDeg:t=>t*Domy.Math.RAD_TO_DEG,integerInRange:(t,e)=>Math.floor(Math.random()*(e-t+1))+t,angleBetweenPoints:(t,e,i,o)=>Math.atan2(o-e,i-t)*Domy.Math.RAD_TO_DEG,distanceBetweenPoints:(t,e,i,o)=>Math.hypot(i-t,o-e)},Domy.SoundManager=function(t){return this.game=t,this},Domy.SoundManager.prototype={play(t,e){(t=Domy.Sounds[t]).paused?t.play():(t.pause(),t.currentTime=0,t.play()),void 0!==e&&(t.loop=e)}},Domy.SoundManager.prototype.constructor=Domy.SoundManager,Domy.Physics=function(t){this.game=t},Domy.Physics.prototype={collide(t,e,i){t.type===Domy.SPRITE?e.type===Domy.SPRITE||(e.type,Domy.GROUP):t.type===Domy.GROUP&&e.type===Domy.SPRITE&&this.collideSpriteVsGroup(e,t,i)},overlap(t,e,i){t.type===Domy.SPRITE?e.type===Domy.SPRITE||(e.type,Domy.GROUP):t.type===Domy.GROUP&&e.type===Domy.SPRITE&&this.collideSpriteVsGroup(e,t,i,!0)},collideGroupVsGroup(t,e,i,o){for(let s=0;s<t.children.length;s++){let h=t.children[s];for(let t=0;t<e.children.length;t++){let s=e.children[t];s!==h&&this.intersectRectangles(h,s)&&(o||(h.body.velocity.x>2?h.x=s.left-h.width-1:h.body.velocity.x<0?h.x=s.right+2:h.body.velocity.y>0?h.y=s.top-h.height-2:h.body.velocity.y<0&&(h.y=s.bottom+2)),null!=i&&i(h,s))}}},intersectRectangles:(t,e)=>!(t.right<=e.x)&&(!(t.bottom<=e.y)&&(!(t.x>=e.right)&&!(t.y>=e.bottom))),intersectCircles(t,e){let i=t.x-e.x,o=t.y-e.y,s=.5*t.width+.5*e.width;return i*i+o*o<s*s}},Domy.Physics.prototype.constructor=Domy.Physics,Domy.Physics.Body=function(t,e,i){return this.parent=t,this.x=e||0,this.y=i||0,this.velocity=new Domy.Point(0,0),this.bounce=new Domy.Point(0,0),this.drag=new Domy.Point(0,0),this.gravity=new Domy.Point(0,0),this.acceleration=new Domy.Point(0,0),this.allowBounce=!0,this.allowDrag=!0,this.allowGravity=!0,this.allowAcceleration=!0,this.touching={none:!0,left:!1,right:!1,top:!1,bottom:!1},this.collideWorldBounds=!1,this.isRectangle=!0,this.isCircle=!1,this.enabled=!0,this},Domy.Physics.Body.prototype={setCircle(){this.isRectangle=!1,this.isCircle=!0,this.sprite.image.style.borderRadius=.5*this.sprite.width+"px"},setRectangle(){this.isRectangle=!0,this.isCircle=!1,this.sprite.image.style.borderRadius=""}},Domy.Physics.Body.prototype.constructor=Domy.Physics.Body,Domy.Cache=function(t){this.game=t,this.images={},this.sounds={}},Domy.Cache.prototype={},Domy.Cache.prototype.constructor=Domy.Cache,Domy.Point=function(t,e){return t=t||0,e=e||0,this.setTo(t,e),this},Domy.Point.prototype={setTo(t,e){return this.x=t||0,this.y=e||0,this}},Domy.Rectangle=function(t,e,i,o){return t=t||0,e=e||0,i=i||0,o=o||0,this.setTo(t,e,i,o),this},Domy.Rectangle.prototype={setTo(t,e,i,o){return this.x=t||0,this.y=e||0,this.width=i||0,this.height=o||0,this}},Domy.Circle=function(t,e,i){return t=t||0,e=e||0,i=i||0,this.setTo(t,e,i),this},Domy.Circle.prototype={setTo(t,e,i){return this.x=t||0,this.y=e||0,this.diameter=i||0,this.radius=.5*i,this}},Domy.ObjectFactory=function(t){return this.game=t,this},Domy.ObjectFactory.prototype={sprite(t,e,i,o){return t=t||0,e=e||0,i=i||null,o=o||0,new Domy.Sprite(this.game,t,e,i,o)},group(){return new Domy.Group(this.game)}},Domy.ObjectFactory.prototype.constructor=Domy.ObjectFactory,Domy.AssetLoader=function(t){return this.game=t,this.filesLoaded=0,this.filesToLoad=0,this},Domy.AssetLoader.prototype={image(t,e){let i=this,o=new Image;o.src=e,o.onload=function(t){i.filesLoaded+=1,i.checkFilesLoaded()},o.onerror=function(e){delete i.game.cache.images[t]},this.game.cache.images[t]=o,this.filesToLoad+=1},spritesheet(t,e,i,o,s){i=i||32,o=o||32,s=s||1/0;let h=this,r=new Image;r.src=e,r.onload=function(e){let r=[],a=0;for(let t=0;t<h.width;t+=i)for(let e=0;e<h.height&&(a+=1)!==s;e+=o)r.push({x:-t,y:-e});h.game.cache.images[t].frames=r,h.filesLoaded+=1,h.checkFilesLoaded()},r.onerror=function(e){delete h.game.cache.images[t]},this.game.cache.images[t]=r,this.game.cache.images[t].frames=[],this.game.cache.images[t].frameWidth=i,this.game.cache.images[t].frameHeight=o,this.filesToLoad+=1},sound(t,e){let i=this,o=new Audio;o.src=e,o.onload=function(t){i.filesLoaded+=1,i.checkFilesLoaded()},o.onerror=function(e){delete i.game.cache.sounds[t]},this.game.cache.sounds[t]=o,this.filesToLoad+=1},checkFilesLoaded(){this.filesToLoad===this.filesLoaded&&this.game.start(this.game)}},Domy.AssetLoader.prototype.constructor=Domy.AssetLoader,Domy.Keyboard=function(t){this.isDown={},this.isPressed={},this.isUp={},this.game=t;for(let t=0;t<200;t++)this.isDown[t]=!1,this.isPressed[t]=!1,this.isUp[t]=!1;this.game.parent;let e=this;return window.addEventListener("keydown",function(t){e.isDown[t.keyCode]=!0,e.isPressed[t.keyCode]=!1,e.isUp[t.keyCode]=!1},!1),window.addEventListener("keypress",function(t){e.isDown[t.keyCode]=!0,e.isPressed[t.keyCode]=!0,e.isUp[t.keyCode]=!1},!1),window.addEventListener("keyup",function(t){e.isDown[t.keyCode]=!1,e.isPressed[t.keyCode]=!1,e.isUp[t.keyCode]=!0},!1),this},Domy.Keyboard.prototype={isDown(t){},isUp(t){}},Domy.Keyboard.prototype.constructor=Domy.Keyboard,Domy.KeyCode={A:"A".toUpperCase().charCodeAt(0),B:"B".toUpperCase().charCodeAt(0),C:"C".toUpperCase().charCodeAt(0),D:"D".toUpperCase().charCodeAt(0),E:"E".toUpperCase().charCodeAt(0),F:"F".toUpperCase().charCodeAt(0),G:"G".toUpperCase().charCodeAt(0),H:"H".toUpperCase().charCodeAt(0),I:"I".toUpperCase().charCodeAt(0),J:"J".toUpperCase().charCodeAt(0),K:"K".toUpperCase().charCodeAt(0),L:"L".toUpperCase().charCodeAt(0),M:"M".toUpperCase().charCodeAt(0),N:"N".toUpperCase().charCodeAt(0),O:"O".toUpperCase().charCodeAt(0),P:"P".toUpperCase().charCodeAt(0),Q:"Q".toUpperCase().charCodeAt(0),R:"R".toUpperCase().charCodeAt(0),S:"S".toUpperCase().charCodeAt(0),T:"T".toUpperCase().charCodeAt(0),U:"U".toUpperCase().charCodeAt(0),V:"V".toUpperCase().charCodeAt(0),W:"W".toUpperCase().charCodeAt(0),X:"X".toUpperCase().charCodeAt(0),Y:"Y".toUpperCase().charCodeAt(0),Z:"Z".toUpperCase().charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,COMMA:188,UNDERSCORE:189,PERIOD:190,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:43,MINUS:44,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144},Domy.KeyCode)Domy.KeyCode.hasOwnProperty(key)&&!key.match(/[a-z]/)&&(Domy.Keyboard[key]=Domy.KeyCode[key]);Domy.Color={AliceBlue:"#F0F8FF",AntiqueWhite:"#FAEBD7",Aqua:"#00FFFF",Aquamarine:"#7FFFD4",Azure:"#F0FFFF",Beige:"#F5F5DC",Bisque:"#FFE4C4",Black:"#000000",BlanchedAlmond:"#FFEBCD",Blue:"#0000FF",BlueViolet:"#8A2BE2",Brown:"#A52A2A",BurlyWood:"#DEB887",CadetBlue:"#5F9EA0",Chartreuse:"#7FFF00",Chocolate:"#D2691E",Coral:"#FF7F50",CornflowerBlue:"#6495ED",Cornsilk:"#FFF8DC",Crimson:"#DC143C",Cyan:"#00FFFF",DarkBlue:"#00008B",DarkCyan:"#008B8B",DarkGoldenRod:"#B8860B",DarkGray:"#A9A9A9",DarkGrey:"#A9A9A9",DarkGreen:"#006400",DarkKhaki:"#BDB76B",DarkMagenta:"#8B008B",DarkOliveGreen:"#556B2F",DarkOrange:"#FF8C00",DarkOrchid:"#9932CC",DarkRed:"#8B0000",DarkSalmon:"#E9967A",DarkSeaGreen:"#8FBC8F",DarkSlateBlue:"#483D8B",DarkSlateGray:"#2F4F4F",DarkSlateGrey:"#2F4F4F",DarkTurquoise:"#00CED1",DarkViolet:"#9400D3",DeepPink:"#FF1493",DeepSkyBlue:"#00BFFF",DimGray:"#696969",DimGrey:"#696969",DodgerBlue:"#1E90FF",FireBrick:"#B22222",FloralWhite:"#FFFAF0",ForestGreen:"#228B22",Fuchsia:"#FF00FF",Gainsboro:"#DCDCDC",GhostWhite:"#F8F8FF",Gold:"#FFD700",GoldenRod:"#DAA520",Gray:"#808080",Grey:"#808080",Green:"#008000",GreenYellow:"#ADFF2F",HoneyDew:"#F0FFF0",HotPink:"#FF69B4",IndianRed:"#CD5C5C",Indigo:"#4B0082",Ivory:"#FFFFF0",Khaki:"#F0E68C",Lavender:"#E6E6FA",LavenderBlush:"#FFF0F5",LawnGreen:"#7CFC00",LemonChiffon:"#FFFACD",LightBlue:"#ADD8E6",LightCoral:"#F08080",LightCyan:"#E0FFFF",LightGoldenRodYellow:"#FAFAD2",LightGray:"#D3D3D3",LightGrey:"#D3D3D3",LightGreen:"#90EE90",LightPink:"#FFB6C1",LightSalmon:"#FFA07A",LightSeaGreen:"#20B2AA",LightSkyBlue:"#87CEFA",LightSlateGray:"#778899",LightSlateGrey:"#778899",LightSteelBlue:"#B0C4DE",LightYellow:"#FFFFE0",Lime:"#00FF00",LimeGreen:"#32CD32",Linen:"#FAF0E6",Magenta:"#FF00FF",Maroon:"#800000",MediumAquaMarine:"#66CDAA",MediumBlue:"#0000CD",MediumOrchid:"#BA55D3",MediumPurple:"#9370DB",MediumSeaGreen:"#3CB371",MediumSlateBlue:"#7B68EE",MediumSpringGreen:"#00FA9A",MediumTurquoise:"#48D1CC",MediumVioletRed:"#C71585",MidnightBlue:"#191970",MintCream:"#F5FFFA",MistyRose:"#FFE4E1",Moccasin:"#FFE4B5",NavajoWhite:"#FFDEAD",Navy:"#000080",OldLace:"#FDF5E6",Olive:"#808000",OliveDrab:"#6B8E23",Orange:"#FFA500",OrangeRed:"#FF4500",Orchid:"#DA70D6",PaleGoldenRod:"#EEE8AA",PaleGreen:"#98FB98",PaleTurquoise:"#AFEEEE",PaleVioletRed:"#DB7093",PapayaWhip:"#FFEFD5",PeachPuff:"#FFDAB9",Peru:"#CD853F",Pink:"#FFC0CB",Plum:"#DDA0DD",PowderBlue:"#B0E0E6",Purple:"#800080",RebeccaPurple:"#663399",Red:"#FF0000",RosyBrown:"#BC8F8F",RoyalBlue:"#4169E1",SaddleBrown:"#8B4513",Salmon:"#FA8072",SandyBrown:"#F4A460",SeaGreen:"#2E8B57",SeaShell:"#FFF5EE",Sienna:"#A0522D",Silver:"#C0C0C0",SkyBlue:"#87CEEB",SlateBlue:"#6A5ACD",SlateGray:"#708090",SlateGrey:"#708090",Snow:"#FFFAFA",SpringGreen:"#00FF7F",SteelBlue:"#4682B4",Tan:"#D2B48C",Teal:"#008080",Thistle:"#D8BFD8",Tomato:"#FF6347",Turquoise:"#40E0D0",Violet:"#EE82EE",Wheat:"#F5DEB3",White:"#FFFFFF",WhiteSmoke:"#F5F5F5",Yellow:"#FFFF00",YellowGreen:"#9ACD32"},Domy.Mouse=function(t){this.x=0,this.y=0,this.isDown=[],this.isUp=[],this.game=t;let e=this.game.parent,i=this;return e.addEventListener("mousemove",function(t){i.x=t.offsetX,i.y=t.offsetY},!0),e.addEventListener("mousedown",function(t){i.isDown[t.button]=!0,i.isUp[t.button]=!1},!0),e.addEventListener("mouseup",function(t){i.isDown[t.button]=!1,i.isUp[t.button]=!0},!0),this},Domy.Mouse.LEFT_BUTTON=0,Domy.Mouse.MIDDLE_BUTTON=1,Domy.Mouse.RIGHT_BUTTON=2,Domy.Mouse.prototype={onMouseMove(t){this.x=t.offsetX,this.y=t.offsetY},onMouseDown(t){this.isDown[t.button]=!0,this.isUp[t.button]=!1},onMouseUp(t){this.isDown[t.button]=!1,this.isUp[t.button]=!0}},Domy.Mouse.prototype.constructor=Domy.Mouse,Domy.SPRITE=0,Domy.GROUP=1,function(t){function e(t){if(i=g(e),!(t<h+c)){for(s+=t-h,h=t,w(t,s),t>d+n&&(r=a*l*1e3/(t-d)+(1-a)*r,d=t,l=0),l++,y=0;s>=o;)if(A(o),s-=o,++y>=240){p=!0;break}f(s/o),b(r,p),p=!1}}var i,o=1e3/60,s=0,h=0,r=60,a=.9,n=1e3,d=0,l=0,y=0,c=0,m=!1,u=!1,p=!1,D="object"==typeof window?window:t,g=D.requestAnimationFrame||function(){var t,e,i=Date.now();return function(s){return t=Date.now(),e=Math.max(0,o-(t-i)),i=t+e,setTimeout(function(){s(t+e)},e)}}(),F=D.cancelAnimationFrame||clearTimeout,C=function(){},w=C,A=C,f=C,b=C;t.MainLoop={getSimulationTimestep:function(){return o},setSimulationTimestep:function(t){return o=t,this},getFPS:function(){return r},getMaxAllowedFPS:function(){return 1e3/c},setMaxAllowedFPS:function(t){return void 0===t&&(t=1/0),0===t?this.stop():c=1e3/t,this},resetFrameDelta:function(){var t=s;return s=0,t},setBegin:function(t){return w=t||w,this},setUpdate:function(t){return A=t||A,this},setDraw:function(t){return f=t||f,this},setEnd:function(t){return b=t||b,this},start:function(){return u||(u=!0,i=g(function(t){f(1),m=!0,h=t,d=t,l=0,i=g(e)})),this},stop:function(){return m=!1,u=!1,F(i),this},isRunning:function(){return m}},"function"==typeof define&&define.amd?define(t.MainLoop):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&(module.exports=t.MainLoop)}(this);
